<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>条件渲染</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      function UserGreeting(props) {
        return <h1>welcome back</h1>
      }
      function GuestGreeting(props) {
        return <h1>please sign up </h1>
      }
      function Greeting(props) {
        const isLoggedIn = props.isLoggedIn;
        if(isLoggedIn) {
            return <UserGreeting />
        }
        return <GuestGreeting />
      }

      ReactDOM.render(
        <Greeting isLoggedIn={false}/>
        document.getElementById('root')
      );
     
      //元素变量 用变量来储存元素
      class Loggin extends React.Component {
        constructor(props) {
          super(props)
          this.handleLoginClick = this.handleLoginClick.bind(this)
          this.handleLogoutClick = this.handleLogoutClick.bind(this)
          this.state = {isLoggedIn:false}
        }
        handleLoginClick(){
          this.setState({isLoggedIn:true})
        }
        handleLogoutClick(){
            this.setState({isLoggedIn:false})
        }
        render(){
            const isLoggedIn = this.state.isLoggedIn
            let button = null //设置变量存储元素
            if(isLoggedIn){
                button = <Login/>
            }else{
                button = <Logout/>
            }
            return (
              <div>
               <Greeting isLoggedIn={isLoggedIn}/>
               {button}
              </div>
            )
        }
      }
      

     // &&与运算符
     //如果条件为true返回右侧元素。false返回false
     function Mail(props) {
      const mes = props.mes
      return (
        <div>
          <h1>hello</h1>
          {mes>0} && 
            <h2> ok </h2>
        </div>
      )
     }
  
    //三目运算符
    render() {
      const isLoggedIn = this.state.isLoggedIn;
      return (
        <div>
         {isLoggedIn ? (
             <Login/>
         ) : (
             <Logout/>
         )}
         </div>
      )
    }
 
 //阻止组件渲染 让render方法返回null
    function Warn(props) {
     if(!props.warn) {
     return null
    }
  
    ReactDOM.render(
       <Warn warn={false}/>
     )
   }
    </script>
    <!--
      Note: this page is a great way to try React but it's not suitable for production.
      It slowly compiles JSX with Babel in the browser and uses a large development build of React.

      To set up a production-ready React build environment, follow these instructions:
      * https://reactjs.org/docs/add-react-to-a-new-app.html
      * https://reactjs.org/docs/add-react-to-an-existing-app.html

      You can also use React without JSX, in which case you can remove Babel:
      * https://reactjs.org/docs/react-without-jsx.html
      * https://reactjs.org/docs/cdn-links.html
    -->
  </body>
</html>